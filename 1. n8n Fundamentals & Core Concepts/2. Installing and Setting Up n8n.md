# Installing and Setting Up n8n (Docker, Cloud, Local)

n8n offers a flexible range of installation options to suit different needs and technical expertise. Whether you prefer the simplicity of a cloud-hosted solution, the control of Docker, or the convenience of a local setup, understanding the available methods is crucial for getting started with n8n and building your automation workflows. This lesson will guide you through each of these installation methods, highlighting their pros and cons, and providing step-by-step instructions to get your n8n instance up and running.

## Docker Installation

Docker provides a consistent and isolated environment for running n8n, making it an excellent choice for both development and production deployments. It eliminates dependency conflicts and simplifies the deployment process.

### Prerequisites

- Docker installed on your system. You can download it from the official Docker website: https://www.docker.com/
- Docker Compose (optional, but recommended for managing multi-container setups). Docker Compose is usually included with Docker Desktop.

### Installation Steps

Create a Docker Compose file (`docker-compose.yml`):

Create a new directory for your n8n setup and create a `docker-compose.yml` file inside it. This file will define the services needed to run n8n.

```yaml
version: '3.7'

services:
  n8n:
    image: n8nio/n8n
    ports:
      - "5678:5678"
    volumes:
      - n8n_data:/home/node/.n8n
    environment:
      - N8N_HOST=${N8N_HOST}
      - N8N_PORT=5678
      - N8N_PROTOCOL=http
      - NODE_ENV=production # Set to 'development' for development mode
      - N8N_BASIC_AUTH_ACTIVE=true # Enable basic authentication
      - N8N_BASIC_AUTH_USER=${N8N_BASIC_AUTH_USER} # Set username
      - N8N_BASIC_AUTH_PASSWORD=${N8N_BASIC_AUTH_PASSWORD} # Set password
    restart: unless-stopped

volumes:
  n8n_data:
```

**Explanation**:

* `version`: Specifies the version of the Docker Compose file format.
* `services`: Defines the services that will be run. In this case, we only have one service: n8n.
* `image`: Specifies the Docker image to use for the n8n service.
* `ports`: Maps port 5678 on the host machine to port 5678 on the container. This allows you to access the n8n interface from your browser.
* `volumes`: Creates a persistent volume named `n8n_data` to store n8n data. This ensures that your data is not lost when the container is stopped or removed.
* `environment`: Sets environment variables for the n8n container. These variables configure various aspects of n8n, such as the host, port, protocol, and authentication settings.
* `restart: unless-stopped`: Configures the container to restart automatically unless it is explicitly stopped.

### Set Environment Variables

You can either set these directly in your terminal or create a `.env` file in the same directory as your `docker-compose.yml` file. Using a `.env` file is generally cleaner.

**Example `.env` file**:

```
# .env file for n8n Docker setup
N8N_HOST=localhost
N8N_BASIC_AUTH_USER=n8nuser
N8N_BASIC_AUTH_PASSWORD=n8npassword
```

**Explanation**:

* `N8N_HOST`: The hostname or IP address that n8n will be accessible from.
* `N8N_BASIC_AUTH_USER`: The username for basic authentication.
* `N8N_BASIC_AUTH_PASSWORD`: The password for basic authentication.

### Run Docker Compose

Open a terminal, navigate to the directory containing your `docker-compose.yml` file, and run the following command:

```bash
docker-compose up -d
```

The `-d` flag runs the containers in detached mode (in the background).

### Access n8n

Open your web browser and navigate to `http://localhost:5678`. You should see the n8n login page. Use the username and password you set in the `.env` file.

---

## Updating n8n with Docker

To update your n8n instance to the latest version, follow these steps:

1. Stop and remove the existing containers:

```bash
docker-compose down
```

2. Pull the latest n8n image:

```bash
docker pull n8nio/n8n
```

3. Start the containers again:

```bash
docker-compose up -d
```

---

## Docker Installation: Advanced Configuration

For more advanced configurations, such as using a reverse proxy (like Nginx or Traefik) for SSL termination and custom domain names, you'll need to modify your `docker-compose.yml` file and configure the reverse proxy accordingly. This is crucial for production deployments to ensure security and proper routing. These topics will be covered in more detail in Module 7.

**Example of adding a reverse proxy (this is a simplified example and requires further configuration):**

```yaml
version: '3.7'

services:
  n8n:
    image: n8nio/n8n
    ports:
      - "5678:5678"
    volumes:
      - n8n_data:/home/node/.n8n
    environment:
      - N8N_HOST=n8n.example.com # Your domain name
      - N8N_PORT=5678
      - N8N_PROTOCOL=https # Use https
      - NODE_ENV=production
      - N8N_BASIC_AUTH_ACTIVE=true
      - N8N_BASIC_AUTH_USER=n8nuser
      - N8N_BASIC_AUTH_PASSWORD=n8npassword
    restart: unless-stopped
    depends_on:
      - reverse-proxy

  reverse-proxy:
    image: nginx:latest # Or your preferred reverse proxy image
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf # Mount your Nginx configuration
    restart: unless-stopped

volumes:
  n8n_data:
```

You would also need to create an `nginx.conf` file with the appropriate configuration to proxy requests to the n8n container and handle SSL certificates. Setting up the reverse proxy is beyond the scope of this lesson, but it's important to understand that it's a necessary step for production deployments.

---

## Cloud Installation (n8n Cloud)

n8n Cloud offers a managed n8n instance, eliminating the need for manual installation and server maintenance. It's the easiest way to get started with n8n, especially if you don't have experience with server administration or Docker.

### Benefits of n8n Cloud

* **Ease of Use**: No installation or server configuration required.
* **Automatic Updates**: n8n Cloud automatically updates your instance to the latest version.
* **Scalability**: n8n Cloud scales automatically to handle your workflow demands.
* **Security**: n8n Cloud provides a secure environment for running your workflows.

### Steps to Set Up n8n Cloud

1. **Create an n8n Cloud Account**:
   Go to the n8n Cloud website ([https://n8n.cloud/](https://n8n.cloud/)) and create an account.

2. **Choose a Plan**:
   Select a plan that meets your needs. n8n Cloud offers different plans based on usage and features.

3. **Create Your n8n Instance**:
   Follow the instructions to create your n8n instance. You'll be prompted to choose a subdomain for your instance.

4. **Access n8n**:
   Once your instance is created, you can access it through the provided subdomain (e.g., `your-subdomain.n8n.cloud`).

### Configuring n8n Cloud

n8n Cloud provides a web interface for configuring your instance. You can set environment variables, manage users, and configure integrations.

To set environment variables:

* Go to the **"Settings"** page in your n8n Cloud instance.
* Click on **"Environment Variables"**.
* Add the necessary environment variables, such as API keys for integrations.

---

## Local Installation (npm)

Installing n8n locally using npm (Node Package Manager) is a convenient option for development and testing. It allows you to quickly set up n8n on your local machine without the overhead of Docker.

### Prerequisites

* Node.js and npm installed on your system. You can download them from the official Node.js website: [https://nodejs.org/](https://nodejs.org/)

### Installation Steps

1. **Install n8n globally**:

```bash
npm install -g n8n
```

This command installs n8n globally, making it accessible from any directory in your terminal.

2. **Set up the n8n directory**:

```bash
mkdir ~/.n8n
```

Create a directory where n8n will store its data. This is important for persisting your workflows and settings.

3. **(Optional) Set Environment Variables**:

```bash
export N8N_BASIC_AUTH_ACTIVE=true
export N8N_BASIC_AUTH_USER=n8nuser
export N8N_BASIC_AUTH_PASSWORD=n8npassword
```

These environment variables will only be set for the current terminal session. To make them permanent, you need to add them to your shell configuration file (e.g., `.bashrc` or `.zshrc`).

4. **Start n8n**:

```bash
n8n start
```

5. **Access n8n**:

Open your web browser and navigate to `http://localhost:5678`. You should see the n8n login page (if you enabled basic authentication).

---

## Updating n8n with npm

To update your n8n instance to the latest version, run:

```bash
npm update -g n8n
```

Then, restart n8n to apply the changes.

---

## Local Installation: Considerations

* **Security**: When running n8n locally, it's important to be aware of security considerations. Avoid exposing your local n8n instance to the internet without proper security measures.
* **Persistence**: Ensure that your n8n data directory is properly configured to persist your workflows and settings.
* **Dependencies**: When using custom nodes or integrations, you may need to install additional dependencies.

---

## Choosing the Right Installation Method

The best installation method for you depends on your specific needs and technical expertise.

| Method | Pros | Cons | Use Cases |
| ------ | ---- | ---- | --------- |

For example, if you are planning to build complex workflows involving multiple integrations and data transformations, Docker or n8n Cloud are better choices. Docker gives you more control over the environment, while n8n Cloud simplifies the setup and maintenance. If you are just starting out and want to quickly experiment with n8n, a local installation using npm is a good option.

---

## Practice Activities

### Docker Installation

* Follow the Docker installation steps to set up n8n on your local machine.
* Experiment with different environment variables to customize your n8n instance.
* Try updating your n8n instance to the latest version using Docker.

### n8n Cloud Installation

* Create an n8n Cloud account and set up a free trial instance.
* Explore the n8n Cloud interface and configure your instance.
* Deploy a simple workflow to your n8n Cloud instance.

### Local Installation

* Install n8n locally using npm.
* Create a simple workflow and run it locally.
* Experiment with different npm packages to extend n8n's functionality.

---

## Summary

In this lesson, you learned about the different ways to install and set up n8n: Docker, n8n Cloud, and local installation using npm. Each method has its own advantages and disadvantages, and the best choice for you depends on your specific needs and technical expertise. By following the steps outlined in this lesson, you should now have a working n8n instance and be ready to start building your own automation workflows.

---

## Next Steps

In the next lesson, you'll learn about the n8n interface, including the canvas, nodes, and editor. You'll also learn how to create your first workflow.

```