# Core Concepts: Nodes, Connections, and Data Flow

n8n workflows are built upon three fundamental concepts: nodes, connections, and data flow. Understanding these concepts is crucial for effectively designing and implementing automations. Nodes represent individual operations, connections define the relationships between nodes, and data flow dictates how information is passed between them. Mastering these elements will enable you to create complex and powerful workflows.

## Understanding Nodes

Nodes are the building blocks of any n8n workflow. Each node performs a specific task, such as fetching data from an API, transforming data, or sending a notification. Nodes can be categorized based on their functionality.

### Types of Nodes

#### Trigger Nodes

These nodes initiate a workflow. Examples include:

* **Webhook Node**: Triggers a workflow when it receives data from an external service via a webhook.
* **Cron Node**: Triggers a workflow based on a schedule defined using cron syntax.
* **Manual Node**: Triggers a workflow manually.

#### Action Nodes

These nodes perform actions within a workflow. Examples include:

* **HTTP Request Node**: Sends HTTP requests to external APIs.
* **Set Node**: Sets or modifies data within a workflow.
* **Function Node**: Executes custom JavaScript code.
* **Email Node**: Sends emails.
* **Google Sheets Node**: Interacts with Google Sheets.

#### Utility Nodes

These nodes provide utility functions within a workflow. Examples include:

* **IF Node**: Implements conditional logic.
* **Merge Node**: Merges data from multiple sources.
* **Item Lists Node**: Manipulates lists of data.

### Node Configuration

Each node has a configuration panel where you define its behavior. The configuration options vary depending on the node type. Common configuration options include:

* **Credentials**: Authentication details for accessing external services.
* **Parameters**: Input values that control the node's behavior.
* **Output**: The data that the node produces.

For example, an HTTP Request node would require configuration for the URL, HTTP method (GET, POST, PUT, DELETE), headers, and request body. A Set node would require configuration for the name of the variable to set and its value.

### Example: HTTP Request Node

Let's consider an example using the HTTP Request node to fetch data from a public API.

1. Add an HTTP Request node to your workflow.
2. Set the URL to `https://jsonplaceholder.typicode.com/todos/1`. This API endpoint returns a JSON object representing a to-do item.
3. Set the Method to `GET`.
4. Execute the node.

The node will send a GET request to the specified URL and return the JSON response. You can then access the data in subsequent nodes.

### Example: Set Node

Now, let's use a Set node to create a variable.

1. Add a Set node to your workflow.
2. In the Values section, add a new field.
3. Set the Name to `myVariable`.
4. Set the Value to `Hello, n8n!`.
5. Execute the node.

The node will create a variable named `myVariable` with the value "Hello, n8n!". You can then reference this variable in other nodes using expressions.

---

## Understanding Connections

Connections define the flow of data between nodes. They visually represent the relationships between nodes in a workflow.

### Types of Connections

* **Main Connection**: The primary connection between two nodes. Data flows from the output of one node to the input of the next node.
* **Conditional Connections**: Connections that are activated based on a condition. These are typically used with the IF node to create branching workflows.

### Creating Connections

To create a connection, simply drag from the output of one node to the input of another node. n8n automatically creates a connection line between the nodes.

### Connection Behavior

When a node executes, it passes its output data to all connected nodes. The connected nodes then process the data and pass their output to subsequent nodes. This process continues until the end of the workflow.

### Example: Connecting HTTP Request and Set Nodes

Let's connect the HTTP Request node from the previous example to a Set node.

1. Drag a connection from the output of the HTTP Request node to the input of the Set node.
2. In the Set node, set the Name to `todoTitle`.
3. Set the Value to an expression that extracts the title from the HTTP Request node's output. The expression would be `{{ $json.title }}`. This expression accesses the `title` property from the JSON data returned by the HTTP Request node.
4. Execute the HTTP Request node, then the Set node.

The Set node will now create a variable named `todoTitle` with the value of the title property from the JSON response.

---

## Understanding Data Flow

Data flow refers to the movement of data through a workflow. Understanding how data flows is essential for designing efficient and effective workflows.

### Data Structure

Data in n8n is typically represented as a JSON object. Each node receives a JSON object as input and produces a JSON object as output. The structure of the JSON object can vary depending on the node type and the data being processed.

### Data Transformation

Data transformation involves modifying the structure or content of data as it flows through a workflow. This can be achieved using various nodes, such as the Set node, Function node, and other specialized transformation nodes.

### Expressions

Expressions are used to access and manipulate data within a workflow. They allow you to dynamically reference data from previous nodes and perform calculations or string manipulations. Expressions are enclosed in double curly braces `{{ ... }}`.

### Example: Data Flow with Transformation

Let's extend the previous example by adding a Function node to transform the `todoTitle` variable.

1. Connect the Set node to a Function node.
2. In the Function node, add the following JavaScript code:

```javascript
// Access the todoTitle variable from the input data
const todoTitle = $input.item.json.todoTitle;

// Transform the title to uppercase
const transformedTitle = todoTitle.toUpperCase();

// Return the transformed title as output
return {
  transformedTitle: transformedTitle
};
```

3. Connect the Function node to another Set node.
4. In the second Set node, set the Name to `upperCaseTitle`.
5. Set the Value to `{{ $json.transformedTitle }}`.
6. Execute the workflow.

In this example, the HTTP Request node fetches data, the first Set node extracts the title, the Function node transforms the title to uppercase, and the second Set node stores the transformed title in a new variable. This demonstrates how data flows through the workflow and is transformed at each step.

---

## Exercises

1. **API Data Extraction**:
   Create a workflow that fetches data from the OpenWeatherMap API (you'll need to sign up for a free API key) and extracts the temperature. Use a Set node to store the temperature in a variable named `temperature`.

2. **String Manipulation**:
   Create a workflow that takes a string as input (using a Manual trigger node) and uses a Function node to reverse the string. Store the reversed string in a variable named `reversedString`.

3. **Conditional Logic**:
   Create a workflow that checks if a number (inputted via a Manual trigger) is even or odd. Use an IF node to branch the workflow and send a different message (using a Set node) depending on whether the number is even or odd.

---

## Summary

This guide explains the foundational elements of **n8n workflows**:

* **Nodes**: Perform specific operations like triggering workflows, making HTTP requests, or transforming data.
* **Connections**: Define how data flows from one node to another, allowing for linear and conditional paths.
* **Data Flow**: Involves structured JSON objects moving between nodes, with transformations done through Set, Function, and other utility nodes.

Hands-on examples like connecting an HTTP request to variable manipulation, and exercises such as API data extraction and condition checks, help in mastering the basics of n8n workflow design.